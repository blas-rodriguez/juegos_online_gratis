<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Adivina el N√∫mero</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            margin: 0;
            min-height: 100vh;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background-color: #020617;
            color: #e5e7eb;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 20px;
        }

        .game-container {
            width: 100%;
            max-width: 650px;
            background: #0f172a;
            border-radius: 18px;
            border: 1px solid #1f2937;
            padding: 22px 24px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.65);
        }

        h1 {
            margin: 0;
            font-size: 1.6rem;
            color: #fbbf24;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            font-size: 0.9rem;
            color: #9ca3af;
            margin-top: 4px;
            margin-bottom: 18px;
        }

        .panel {
            background: radial-gradient(circle at top, rgba(15,23,42,1), rgba(15,23,42,0.7));
            border-radius: 14px;
            border: 1px solid #1e293b;
            padding: 16px 18px;
            margin-bottom: 14px;
        }

        #message {
            white-space: pre-line;
            line-height: 1.4;
            font-size: 0.98rem;
        }

        .status {
            font-size: 0.85rem;
            color: #9ca3af;
            margin-top: 6px;
        }

        .row {
            display: flex;
            gap: 10px;
            margin-top: 8px;
        }

        input[type="number"] {
            flex: 1;
            padding: 8px 10px;
            border-radius: 10px;
            border: 1px solid #4b5563;
            background-color: #020617;
            color: #e5e7eb;
            font-size: 0.95rem;
        }

        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        button {
            border-radius: 999px;
            border: none;
            padding: 8px 16px;
            font-size: 0.9rem;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: #22c55e;
            color: #022c22;
            font-weight: 600;
            box-shadow: 0 8px 18px rgba(34,197,94,0.45);
            transform: translateY(0);
            transition: transform 0.07s ease, box-shadow 0.07s ease, background 0.12s ease;
            white-space: nowrap;
        }

        button:hover {
            transform: translateY(-1px);
            box-shadow: 0 10px 24px rgba(34,197,94,0.6);
            background: #16a34a;
        }

        button:active {
            transform: translateY(1px);
            box-shadow: 0 4px 12px rgba(34,197,94,0.4);
        }

        button.secondary {
            background: #1f2937;
            color: #e5e7eb;
            box-shadow: none;
            border: 1px solid #374151;
        }

        button.secondary:hover {
            background: #111827;
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            box-shadow: none;
        }

        .history {
            font-size: 0.85rem;
            color: #9ca3af;
            margin-top: 6px;
        }

        .history strong {
            color: #e5e7eb;
        }

        .tag-row {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 8px;
        }

        .tag {
            font-size: 0.7rem;
            padding: 2px 7px;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.4);
            color: #cbd5f5;
        }

        .tag.main {
            border-color: rgba(34, 197, 94, 0.6);
            background: rgba(34, 197, 94, 0.12);
            color: #bbf7d0;
        }
    </style>
</head>
<body>
<div class="game-container">
    <h1>Adivina el N√∫mero</h1>
    <p class="subtitle">
        Estoy pensando un n√∫mero secreto. ¬øCu√°nto tard√°s en encontrarlo?
    </p>

    <div class="panel">
        <div class="tag-row">
            <span class="tag main">Juego simple</span>
            <span class="tag">L√≥gica</span>
            <span class="tag">Condicionales</span>
        </div>

        <div id="message"></div>
        <div class="status" id="status"></div>

        <div class="row" style="margin-top: 14px;">
            <input type="number" id="guess-input" placeholder="Escrib√≠ un n√∫mero..." min="1" max="20">
            <button id="guess-btn">Probar</button>
        </div>

        <div class="row" style="margin-top: 8px; justify-content: flex-end;">
            <button class="secondary" id="restart-btn">Reiniciar juego</button>
        </div>

        <div class="history" id="history"></div>
    </div>
</div>

<script>
    const messageEl = document.getElementById('message');
    const statusEl = document.getElementById('status');
    const historyEl = document.getElementById('history');
    const guessInput = document.getElementById('guess-input');
    const guessBtn = document.getElementById('guess-btn');
    const restartBtn = document.getElementById('restart-btn');

    const game = {
        numero: 0,
        intentos: 0,
        limiteInferior: 1,
        limiteSuperior: 20,
        terminado: false,
        historial: []
    };

    function nuevoJuego() {
        game.numero = Math.floor(Math.random() * (game.limiteSuperior - game.limiteInferior + 1)) + game.limiteInferior;
        game.intentos = 0;
        game.terminado = false;
        game.historial = [];
        messageEl.textContent =
`Estoy pensando un n√∫mero del ${game.limiteInferior} al ${game.limiteSuperior}.
Intent√° adivinarlo. Despu√©s de cada intento te digo si es m√°s alto o m√°s bajo.`;
        statusEl.textContent = '';
        historyEl.textContent = '';
        guessInput.value = '';
        guessInput.disabled = false;
        guessBtn.disabled = false;
        guessInput.focus();
        // console.log('N√∫mero secreto:', game.numero); // Para debug
    }

    function procesarIntento() {
        if (game.terminado) return;

        const valor = guessInput.value.trim();
        if (valor === '') {
            statusEl.textContent = 'Escrib√≠ alg√∫n n√∫mero antes de probar.';
            return;
        }

        const num = Number(valor);

        if (!Number.isInteger(num)) {
            statusEl.textContent = 'El valor debe ser un n√∫mero entero.';
            return;
        }

        if (num < game.limiteInferior || num > game.limiteSuperior) {
            statusEl.textContent = `Debe estar entre ${game.limiteInferior} y ${game.limiteSuperior}.`;
            return;
        }

        game.intentos++;
        game.historial.push(num);

        if (num === game.numero) {
            messageEl.textContent =
`¬°Correcto! üéâ
El n√∫mero era ${game.numero}.

Lo adivinaste en ${game.intentos} intento${game.intentos === 1 ? '' : 's'}.`;
            statusEl.textContent = 'Juego terminado. Pod√©s reiniciar para jugar de nuevo.';
            game.terminado = true;
            guessInput.disabled = true;
            guessBtn.disabled = true;
        } else if (num > game.numero) {
            messageEl.textContent =
`No, el n√∫mero secreto es m√°s CHICO que ${num}.
Prob√° con un n√∫mero m√°s bajo.`;
            statusEl.textContent = `Intentos: ${game.intentos}`;
        } else {
            messageEl.textContent =
`No, el n√∫mero secreto es m√°s GRANDE que ${num}.
Prob√° con un n√∫mero m√°s alto.`;
            statusEl.textContent = `Intentos: ${game.intentos}`;
        }

        historyEl.innerHTML = `Intentos realizados: <strong>${game.historial.join(', ')}</strong>`;
        guessInput.value = '';
        guessInput.focus();
    }

    guessBtn.addEventListener('click', procesarIntento);

    guessInput.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
            procesarIntento();
        }
    });

    restartBtn.addEventListener('click', () => {
        nuevoJuego();
    });

    // Iniciar por primera vez
    nuevoJuego();
</script>
</body>
</html>
